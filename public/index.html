<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitcoin Price Tracker with Technical Indicators</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Bitcoin Price Tracker</h1>
            <p class="subtitle">Real-time price, technical indicators, and trading signals</p>
        </header>

        <main>
            <!-- Loading State -->
            <div id="loading" class="loading">
                <p>Loading Bitcoin data...</p>
            </div>

            <!-- Error State -->
            <div id="error" class="error" style="display: none;">
                <p id="error-message"></p>
            </div>

            <!-- Data Display -->
            <div id="content" style="display: none;">
                <!-- Current Price Section -->
                <section class="price-section">
                    <div class="card price-card">
                        <h2>Current Bitcoin Price</h2>
                        <div class="price-display">
                            <span id="current-price" class="price">$0.00</span>
                            <span id="price-currency" class="currency">USD</span>
                        </div>
                        <p class="last-updated">Last updated: <span id="last-update">--:--:--</span></p>
                    </div>
                </section>

                <!-- Fear & Greed Index Section -->
                <section class="indicators-section">
                    <div class="card">
                        <h2>Fear & Greed Index</h2>
                        <div class="fear-greed-container">
                            <div class="fear-greed-value">
                                <div class="gauge" id="fear-greed-gauge">
                                    <svg viewBox="0 0 200 120" xmlns="http://www.w3.org/2000/svg">
                                        <defs>
                                            <linearGradient id="gaugeGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                                <stop offset="0%" style="stop-color:#d32f2f;stop-opacity:1" />
                                                <stop offset="25%" style="stop-color:#f57c00;stop-opacity:1" />
                                                <stop offset="50%" style="stop-color:#fbc02d;stop-opacity:1" />
                                                <stop offset="75%" style="stop-color:#7cb342;stop-opacity:1" />
                                                <stop offset="100%" style="stop-color:#388e3c;stop-opacity:1" />
                                            </linearGradient>
                                        </defs>
                                        <!-- Gauge arc background -->
                                        <path d="M 20 100 A 80 80 0 0 1 180 100" stroke="url(#gaugeGradient)" stroke-width="20" fill="none" stroke-linecap="round"/>
                                        <!-- Needle indicator -->
                                        <line id="gauge-needle-line" x1="100" y1="100" x2="100" y2="25" stroke="#333" stroke-width="3" stroke-linecap="round"/>
                                        <circle id="gauge-needle-center" cx="100" cy="100" r="6" fill="#333"/>
                                    </svg>
                                </div>
                                <div class="fear-greed-text">
                                    <span id="fear-greed-value" class="value">--</span>
                                    <span id="fear-greed-classification" class="classification">--</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Technical Indicators -->
                    <div class="card">
                        <h2>Technical Indicators</h2>
                        <div class="indicators-grid">
                            <div class="indicator">
                                <h3>RSI (14)</h3>
                                <p id="rsi-value" class="indicator-value">--</p>
                                <p class="indicator-description">Relative Strength Index</p>
                            </div>
                            <div class="indicator">
                                <h3>50-Day MA</h3>
                                <p id="ma50-value" class="indicator-value">--</p>
                                <p class="indicator-description">Moving Average</p>
                            </div>
                            <div class="indicator">
                                <h3>200-Day MA</h3>
                                <p id="ma200-value" class="indicator-value">--</p>
                                <p class="indicator-description">Moving Average</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Trading Signals Section -->
                <section class="signals-section">
                    <div class="card buy-signal" id="buy-signal-card" style="display: none;">
                        <h2>ðŸŸ¢ BUY SIGNAL</h2>
                        <p>Fear & Greed Index < 20 AND RSI < 30</p>
                        <p class="signal-time">Signal generated at: <span id="buy-signal-time">--:--:--</span></p>
                    </div>

                    <div class="card sell-signal" id="sell-signal-card" style="display: none;">
                        <h2>ðŸ”´ SELL SIGNAL</h2>
                        <p>Fear & Greed Index > 80 AND RSI > 70</p>
                        <p class="signal-time">Signal generated at: <span id="sell-signal-time">--:--:--</span></p>
                    </div>

                    <div class="card no-signal" id="no-signal-card">
                        <h2>âšª NO SIGNAL</h2>
                        <p id="no-signal-explanation">Waiting for buy or sell conditions to be met...</p>
                    </div>
                </section>

                <!-- Crossover Tracking Section -->
                <section class="crossover-section">
                    <div class="card">
                        <h2>Moving Average Crossovers</h2>
                        <div class="crossover-grid">
                            <div class="crossover-item">
                                <h3>50-Day / 200-Day MA</h3>
                                <p id="crossover-daily-text">--</p>
                            </div>
                            <div class="crossover-item">
                                <h3>Price / 50-Week MA</h3>
                                <p id="crossover-weekly-50-text">--</p>
                            </div>
                            <div class="crossover-item">
                                <h3>Price / 200-Week MA</h3>
                                <p id="crossover-weekly-200-text">--</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Daily MA Chart Section -->
                <section class="chart-section">
                    <div class="card">
                        <h2>Bitcoin Price with Daily Moving Averages</h2>
                        <canvas id="dailyMAChart"></canvas>
                    </div>
                </section>

                <!-- Weekly MA Chart Section -->
                <section class="chart-section">
                    <div class="card">
                        <h2>Bitcoin Price with Weekly Moving Averages</h2>
                        <canvas id="weeklyMAChart"></canvas>
                    </div>
                </section>

                <!-- Weekly Price Table Section -->
                <section class="chart-section">
                    <div class="card">
                        <h2>Weekly Price History</h2>
                        <div class="table-container">
                            <table id="weekly-price-table" class="weekly-table">
                                <thead>
                                    <tr>
                                        <th>Week Starting</th>
                                        <th>Price (USD)</th>
                                        <th>50-Week MA</th>
                                        <th>200-Week MA</th>
                                    </tr>
                                </thead>
                                <tbody id="weekly-table-body">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- GitHub Push Section (Admin Only) -->
                <section class="chart-section" id="admin-section" style="display: none;">
                    <div class="card">
                        <h2>Deploy to GitHub</h2>
                        <p>Paste your GitHub token to push changes:</p>
                        <input type="password" id="github-token" placeholder="Paste your GitHub token here" style="width: 100%; padding: 10px; margin: 10px 0; border: 1px solid #ccc; border-radius: 5px;">
                        <button id="push-button" style="background: #667eea; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-size: 1em;">Push to GitHub</button>
                        <p id="push-status" style="margin-top: 10px;"></p>
                    </div>
                </section>
            </div>
        </main>

        <footer>
            <p>&copy; 2025 Bitcoin Price Tracker. Data from Kraken and Alternative.me</p>
        </footer>
    </div>

    <script src="js/app.js"></script>
</body>
</html>
